
|学号|班级|姓名|照片|
|:-------:|:-------------: | :----------:|:---:|
|201510414120|软件(本)15-1|魏金冰|![flow1](timg.jpg)|

## 实验五：图书管理系统数据库设计与界面设计
### 1.表数据库设计

**1.1 图书表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|bookId|int(100)|主键|否|||
|ISBN|varchar(100)| |否|||  
|bookName|varchar(100)| |否|||
|author|varchar(100)| |否|||  
|publisher|varchar(100)| |否|||
|price|float(100)| |否|||  
|cnum|int(100)| |否|||
|snum|int(100)| |否|||  
|summary|varchar(100)| |是|||
|photo|varbinary(60000)| |是|||

**1.2 读者表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|readerId|varchar(100)|主键|否|||
|name|varchar(100)| |否|||  
|password|varchar(100)| |否|||
|sex|bit(1)| |否|||  
|born|datetime(100)| |否|||
|spec|varchar(100)| |否|||  
|num|int(100)| |否|||
|photo|varbinary(60000)| |否|||  

**1.3 图书管理员表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|bookAdminId|varchar(100)|主键|否|||
|name|varchar(100)| |否|||  
|password|varchar(100)| |否|||
|sex|bit(1)| |否|||  
|born|datetime(100)| |否|||
|photo|varbinary(60000)| |否|||  

**1.3 超级管理员表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|superAdminId|varchar(100)|主键|否|||
|name|varchar(100)| |否|||  
|password|varchar(100)| |否|||
|sex|bit(1)| |否|||  
|born|datetime(100)| |否|||
|photo|varbinary(60000)| |否|||  

**1.4 借书表**

|字段|类型|主键，外键|可以为空|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:-----|    
|id|int(100)|主键|否|||
|readerId|varchar(100)|外键|否|||  
|bookId|varchar(100)|外键|否|||
|ISBN|varchar(100)| |否|||  
|lendConfirm|bit(1)| |否|||
|returnRequest|bit(1)| |否|||  
|ltime|datetime| |否|||  

## 2. 界面设计
**2.1 还书界面设计**
![还书设计](还书设计.png)
- 用例图参见：还书设计用例
- 类图参见：还书类
- 顺序图参见：还书设计顺序图
- API接口如下：

1. 还书

- 功能：用于归还图书
- 请求地址： http://localhost:8080/LibrarySystem/GET/student/xxx
- 请求方法：GET
- 请求参数：readerId(String)

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|readerId|是|用于归还图书 |
|method|是|固定为 “POST”。|

- 返回实例：
```
{
    "code": 200,
    "data": {
            "readerId": "201510414120",
            "id": "1",
            "bookid": "101",
            "ISBN": "987-012-19",
            "lenConfirm": "ture",
            "returnRequest": "ture",
            "ltime": "2018-01-19 00:00:00",
     },
    "msg": "响应成功"
}
```
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|msg|请求响应结果|
|data|归还图书的信息|
|code|返回码|



